#ifndef LED_PARA_H
#define LED_PARA_H
#include "QT.h"
#include "LED_Cfg.h"

#undef EXT
#ifdef LED_PARA_C
#define EXT
#else
#define EXT extern
#endif

//时间索引
#define T_YEAR  0
#define T_MONTH 1
#define T_DATE  2
#define T_HOUR  3
#define T_MIN   4


#define SCREEN_WH   0x01
#define SCREEN_ADDR 0x02
#define SCREEN_IP   0x03
#define SCREEN_BAUD 0x04
#define SCREEN_OC_TIME 0x05 //定时开关机时间
#define SCREEN_LIGNTNESS 0x06 //亮度
#define SCREEN_TIME 0x07 //时间

const INT16U Min_Size[]=
{
 0,
 5,
 1,
 4,
 1,
 20,
 8,
 7	
};

typedef struct
{
  INT8U Time[5];
  INT8U CS[CS_BYTES];	
}S_Cur_Time;

typedef struct
{
  //INT8U Head;

  INT8U Value; //亮度值
  INT8U Start_Hour; //起始小时

  //INT8U Tail;
}S_Lightness;

//开关机时间设置
typedef struct
{
  //INT8U Head;

  INT8U Open_Hour;
  INT8U Open_Min;
  INT8U Close_Hour;
  INT8U Close_Min;

  //INT8U Tail;
}S_Open_Close_Time;

typedef struct
{
  INT8U Week; //星期
  INT8U Start_Time[5]; //起始年月日时分
  INT8U End_Time[5];	//结束年月日时分
}S_Program_Timing;

//位置
typedef struct
{
  INT16U X;
  INT16U Y;
  INT16U X_Len;
  INT16U Y_Len; 	
}S_Area;

//屏幕参数
typedef struct
{
  INT8U Head;

  INT16U Width; //宽度
  INT16U Height; //高度
  INT8U Color; //颜色 0单色，1双色，2三色，3-255级灰度
  
  INT8U Addr; //地址
  INT32U IP; //IP地址
  INT8U Baud;  //波特率

  S_Open_Close_Time Open_Close_Time; //开关机时间
  S_Lightness Lightness; //强度

  INT8U Program_Num; //节目数
  INT8U CS[CS_BYTES];

  INT8U Tail;
}S_Screen_Para;


//节目属性
typedef struct
{
  INT8U Program_No; //节目号
  //INT8U Program_Cycles; //循环次数
  //INT16U Program_Stay_Sec; //停留秒数
  S_Program_Timing Program_Timing[3]; //节目定时设置
  INT8U Area_Num; //分区数
  S_Area Area[MAX_AREA_NUM]; //区域定义
  INT8U CS[CS_BYTES];
}S_Program_Para;

//文件头
typedef struct
{
	INT8U Head;
	
	INT8U Flag; //标志
	INT8U Prog_No; //节目号
	INT8U Area_No; //分区号
  INT8U File_No; //文件号
  INT8U In_Mode; //引入方式
  INT8U In_Speed; //进入速度
  INT8U Add_Mode; //追加方式
  INT16U Stay_Time; //停留时间，最高位为单位，0表示ms，1表示s
  INT8U Out_Mode; //引出方式	
  
  INT8U Head;
}S_File_Para;

typedef struct
{
  INT8U Hour_Point_Radius; //整点半径
  INT8U Hour_Point_Color; ///整点颜色
  
  INT8U Hour369_Point_Radius; //369点半径
  INT8U Hour369_Point_Colr;  //369点颜色
  
  INT8U Hour_Line_Radius;  //时钟半径
  INT8U Hour_Line_Color;  //时钟颜色
  
  INT8U Min_Line_Radius; //分钟半径
  INT8U Min_Line_Color;  //分钟颜色
  
  INT8U Sec_Line_Radus; //秒钟半径
  INT8U Sec_Line_Color; //秒钟颜色
}S_Dial_Para;

EXT S_Screen_Para Screen_Para; //显示屏相关参数
EXT S_File_Para File_Para[MAX_AREA_NUM]; //当前分区的文件参数，更换文件时刷新之
EXT S_Program_Para Program_Para;  //当前节目属性[MAX_PROGRAM_NUM]; //节目个数

EXT S_Dial_Para Dial_Para;

EXT S_Cur_Time Cur_Time; //当前时间 
EXT void Read_Screen_Para();
#endif // LED_PARA_H
